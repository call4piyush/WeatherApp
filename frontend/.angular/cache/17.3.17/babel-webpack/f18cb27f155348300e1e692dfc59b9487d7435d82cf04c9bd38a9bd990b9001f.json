{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Subject, BehaviorSubject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./services/weather.service\";\nimport * as i2 from \"./services/city.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction AppComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵelement(1, \"i\", 32);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_div_29_div_1_span_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 43);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const city_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\", city_r2.state, \", \");\n  }\n}\nfunction AppComponent_div_29_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵlistener(\"click\", function AppComponent_div_29_div_1_Template_div_click_0_listener() {\n      const city_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.selectCity(city_r2));\n    });\n    i0.ɵɵelementStart(1, \"div\", 36);\n    i0.ɵɵelement(2, \"i\", 37);\n    i0.ɵɵelementStart(3, \"span\", 38);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 39);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 40);\n    i0.ɵɵtemplate(8, AppComponent_div_29_div_1_span_8_Template, 2, 1, \"span\", 41);\n    i0.ɵɵelementStart(9, \"span\", 42);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const city_r2 = ctx.$implicit;\n    const i_r4 = ctx.index;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"selected\", i_r4 === ctx_r2.selectedCityIndex);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(city_r2.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(city_r2.country_code);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", city_r2.state);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(city_r2.country);\n  }\n}\nfunction AppComponent_div_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33);\n    i0.ɵɵtemplate(1, AppComponent_div_29_div_1_Template, 11, 6, \"div\", 34);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.citySuggestions);\n  }\n}\nfunction AppComponent_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵelement(1, \"i\", 45);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.cityError, \" \");\n  }\n}\nfunction AppComponent_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46);\n    i0.ɵɵelement(1, \"i\", 47);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.error, \" \");\n  }\n}\nfunction AppComponent_div_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 48)(1, \"div\", 49);\n    i0.ɵɵelement(2, \"div\", 50);\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4, \"Fetching weather data...\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction AppComponent_section_34_div_5_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 61);\n    i0.ɵɵelement(1, \"i\", 62);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.lastSearchResponse.notice, \" \");\n  }\n}\nfunction AppComponent_section_34_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"div\", 58);\n    i0.ɵɵelement(2, \"i\", 30);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"small\", 59);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, AppComponent_section_34_div_5_div_7_Template, 3, 1, \"div\", 60);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", ctx_r2.getAlertClass(ctx_r2.lastSearchResponse.from_cache));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", ctx_r2.lastSearchResponse.from_cache ? \"fa-database\" : \"fa-wifi\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.lastSearchResponse.from_cache ? \"Cached Data\" : \"Live Data\", \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Updated: \", i0.ɵɵpipeBind2(6, 5, ctx_r2.lastSearchResponse.timestamp, \"medium\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.lastSearchResponse.notice);\n  }\n}\nfunction AppComponent_section_34_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 63)(1, \"div\", 64)(2, \"div\", 65);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 66);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 67)(8, \"div\", 68)(9, \"span\", 69);\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"span\", 70);\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 71);\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"titlecase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 72)(19, \"div\", 73);\n    i0.ɵɵelement(20, \"i\", 74);\n    i0.ɵɵelementStart(21, \"span\");\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"div\", 73);\n    i0.ɵɵelement(24, \"i\", 75);\n    i0.ɵɵelementStart(25, \"span\");\n    i0.ɵɵtext(26);\n    i0.ɵɵpipe(27, \"number\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const forecast_r5 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(4, 7, forecast_r5.forecastDate, \"EEE, MMM d\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.getWeatherIcon(forecast_r5.description), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(11, 10, forecast_r5.high_temp, \"1.0-0\"), \"\\u00B0\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(14, 13, forecast_r5.low_temp, \"1.0-0\"), \"\\u00B0\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(17, 16, forecast_r5.description), \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\", forecast_r5.humidity, \"% humidity\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(27, 18, forecast_r5.pressure, \"1.0-0\"), \" hPa\");\n  }\n}\nfunction AppComponent_section_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 51)(1, \"div\", 52)(2, \"h2\");\n    i0.ɵɵelement(3, \"i\", 53);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, AppComponent_section_34_div_5_Template, 8, 8, \"div\", 54);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 55);\n    i0.ɵɵtemplate(7, AppComponent_section_34_div_7_Template, 28, 21, \"div\", 56);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" Weather Forecast for \", ctx_r2.currentCity, \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.lastSearchResponse);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.forecasts);\n  }\n}\nfunction AppComponent_section_36_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 80);\n    i0.ɵɵlistener(\"click\", function AppComponent_section_36_button_5_Template_button_click_0_listener() {\n      const city_r7 = i0.ɵɵrestoreView(_r6).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      ctx_r2.searchCity = city_r7;\n      return i0.ɵɵresetView(ctx_r2.searchWeather());\n    });\n    i0.ɵɵelement(1, \"i\", 81);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const city_r7 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", city_r7, \" \");\n  }\n}\nfunction AppComponent_section_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 76)(1, \"h3\");\n    i0.ɵɵelement(2, \"i\", 77);\n    i0.ɵɵtext(3, \" Recent Searches \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 78);\n    i0.ɵɵtemplate(5, AppComponent_section_36_button_5_Template, 3, 1, \"button\", 79);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.cachedCities);\n  }\n}\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor(weatherService, cityService) {\n      this.weatherService = weatherService;\n      this.cityService = cityService;\n      this.title = 'weather-app-frontend';\n      this.searchCity = '';\n      this.currentCity = '';\n      this.forecasts = [];\n      this.lastSearchResponse = null;\n      // City autocomplete properties\n      this.searchInput$ = new Subject();\n      this.citySuggestions = [];\n      this.showSuggestions = false;\n      this.selectedCityIndex = -1;\n      // Loading and error states\n      this.loading$ = new BehaviorSubject(false);\n      this.cityLoading$ = new BehaviorSubject(false);\n      this.error = null;\n      this.cityError = null;\n      this.offlineMode$ = new BehaviorSubject(false);\n      // Cached cities for quick access\n      this.cachedCities = [];\n      this.destroy$ = new Subject();\n    }\n    ngOnInit() {\n      this.setupCitySearch();\n      this.loadCachedCities();\n      // Subscribe to service observables\n      this.weatherService.offlineMode$.pipe(takeUntil(this.destroy$)).subscribe(offline => this.offlineMode$.next(offline));\n      this.weatherService.loading$.pipe(takeUntil(this.destroy$)).subscribe(loading => this.loading$.next(loading));\n      this.cityService.searchResults$.pipe(takeUntil(this.destroy$)).subscribe(cities => {\n        this.citySuggestions = cities;\n        this.showSuggestions = cities.length > 0;\n      });\n      this.cityService.loading$.pipe(takeUntil(this.destroy$)).subscribe(loading => this.cityLoading$.next(loading));\n      this.cityService.error$.pipe(takeUntil(this.destroy$)).subscribe(error => this.cityError = error);\n    }\n    ngOnDestroy() {\n      this.destroy$.next();\n      this.destroy$.complete();\n    }\n    setupCitySearch() {\n      this.cityService.createDebouncedSearch(this.searchInput$).pipe(takeUntil(this.destroy$)).subscribe();\n    }\n    onSearchInputChange() {\n      this.searchInput$.next(this.searchCity);\n    }\n    onInputFocus() {\n      if (this.citySuggestions.length > 0) {\n        this.showSuggestions = true;\n      }\n    }\n    onInputBlur() {\n      // Delay hiding to allow for clicks on suggestions\n      setTimeout(() => {\n        this.showSuggestions = false;\n      }, 200);\n    }\n    onKeyDown(event) {\n      if (!this.showSuggestions) return;\n      switch (event.key) {\n        case 'ArrowDown':\n          event.preventDefault();\n          this.selectedCityIndex = Math.min(this.selectedCityIndex + 1, this.citySuggestions.length - 1);\n          break;\n        case 'ArrowUp':\n          event.preventDefault();\n          this.selectedCityIndex = Math.max(this.selectedCityIndex - 1, -1);\n          break;\n        case 'Enter':\n          event.preventDefault();\n          if (this.selectedCityIndex >= 0) {\n            this.selectCity(this.citySuggestions[this.selectedCityIndex]);\n          } else {\n            this.searchWeather();\n          }\n          break;\n        case 'Escape':\n          this.showSuggestions = false;\n          this.selectedCityIndex = -1;\n          break;\n      }\n    }\n    selectCity(city) {\n      this.searchCity = city.name;\n      this.currentCity = city.name;\n      this.showSuggestions = false;\n      this.selectedCityIndex = -1;\n      this.searchWeather();\n    }\n    searchWeather() {\n      if (!this.searchCity.trim()) return;\n      this.error = null;\n      this.currentCity = this.searchCity;\n      this.addToCachedCities(this.searchCity);\n      if (this.offlineMode$.value) {\n        this.getOfflineWeather();\n      } else {\n        this.getOnlineWeather();\n      }\n    }\n    getOnlineWeather() {\n      this.weatherService.getWeatherForecast(this.searchCity, false).subscribe({\n        next: response => {\n          this.lastSearchResponse = {\n            city: response.city,\n            forecasts: response.forecasts,\n            offline_mode: response.offline_mode,\n            from_cache: response.from_cache,\n            timestamp: response.timestamp,\n            total_days: response.total_days || 3\n          };\n          this.forecasts = response.forecasts;\n          this.error = null;\n        },\n        error: err => {\n          this.error = err.message || 'Failed to fetch weather data';\n          this.forecasts = [];\n        }\n      });\n    }\n    getOfflineWeather() {\n      this.weatherService.getOfflineWeatherData(this.searchCity).subscribe({\n        next: response => {\n          this.forecasts = response.forecasts || [];\n          this.lastSearchResponse = {\n            city: this.searchCity,\n            forecasts: response.forecasts || [],\n            offline_mode: true,\n            from_cache: true,\n            timestamp: new Date().toISOString(),\n            total_days: 3\n          };\n          this.error = null;\n        },\n        error: err => {\n          this.error = err.message || 'No cached data available';\n          this.forecasts = [];\n        }\n      });\n    }\n    toggleOfflineMode() {\n      const newMode = !this.offlineMode$.value;\n      this.offlineMode$.next(newMode);\n      this.weatherService.setOfflineMode(newMode);\n    }\n    loadCachedCities() {\n      const cached = localStorage.getItem('cachedCities');\n      if (cached) {\n        this.cachedCities = JSON.parse(cached);\n      }\n    }\n    addToCachedCities(city) {\n      if (!this.cachedCities.includes(city)) {\n        this.cachedCities.unshift(city);\n        this.cachedCities = this.cachedCities.slice(0, 5); // Keep only 5\n        localStorage.setItem('cachedCities', JSON.stringify(this.cachedCities));\n      }\n    }\n    getWeatherIcon(description) {\n      const desc = description.toLowerCase();\n      if (desc.includes('clear')) return '☀️';\n      if (desc.includes('cloud')) return '☁️';\n      if (desc.includes('rain')) return '🌧️';\n      if (desc.includes('storm')) return '⛈️';\n      if (desc.includes('snow')) return '❄️';\n      if (desc.includes('mist') || desc.includes('fog')) return '🌫️';\n      if (desc.includes('wind')) return '💨';\n      return '🌤️';\n    }\n    getAlertClass(fromCache) {\n      return fromCache ? 'alert-warning' : 'alert-success';\n    }\n    static {\n      this.ɵfac = function AppComponent_Factory(t) {\n        return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.WeatherService), i0.ɵɵdirectiveInject(i2.CityService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: AppComponent,\n        selectors: [[\"app-root\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 48,\n        vars: 35,\n        consts: [[1, \"container\"], [1, \"header-section\"], [1, \"header-container\"], [1, \"app-title\"], [1, \"fas\", \"fa-cloud-sun\", \"weather-icon\"], [1, \"app-subtitle\"], [1, \"offline-toggle\"], [1, \"switch\"], [\"type\", \"checkbox\", 3, \"change\", \"checked\"], [1, \"slider\", \"round\"], [1, \"toggle-label\"], [1, \"search-section\"], [1, \"autocomplete-container\"], [1, \"search-box\"], [1, \"fas\", \"fa-search\", \"search-icon\"], [\"type\", \"text\", \"placeholder\", \"Search for a city (e.g., London, New York, Tokyo)...\", 1, \"form-control\", \"search-input\", 3, \"ngModelChange\", \"input\", \"focus\", \"blur\", \"keydown\", \"ngModel\", \"disabled\"], [1, \"search-actions\"], [\"class\", \"loading-spinner\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", \"search-btn\", 3, \"click\", \"disabled\"], [1, \"fas\", \"fa-search\"], [\"class\", \"suggestions-dropdown\", 4, \"ngIf\"], [\"class\", \"alert alert-warning\", 4, \"ngIf\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"class\", \"loading-section\", 4, \"ngIf\"], [\"class\", \"results-section\", 4, \"ngIf\"], [\"class\", \"cached-cities\", 4, \"ngIf\"], [1, \"footer\"], [1, \"footer-content\"], [1, \"footer-links\"], [1, \"status-indicator\", 3, \"ngClass\"], [1, \"fas\", 3, \"ngClass\"], [1, \"loading-spinner\"], [1, \"fas\", \"fa-spinner\", \"fa-spin\"], [1, \"suggestions-dropdown\"], [\"class\", \"suggestion-item\", 3, \"selected\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"suggestion-item\", 3, \"click\"], [1, \"city-main\"], [1, \"fas\", \"fa-map-marker-alt\", \"city-icon\"], [1, \"city-name\"], [1, \"country-code\"], [1, \"city-details\"], [\"class\", \"state\", 4, \"ngIf\"], [1, \"country\"], [1, \"state\"], [1, \"alert\", \"alert-warning\"], [1, \"fas\", \"fa-exclamation-triangle\"], [1, \"alert\", \"alert-danger\"], [1, \"fas\", \"fa-exclamation-circle\"], [1, \"loading-section\"], [1, \"spinner-container\"], [1, \"spinner\"], [1, \"results-section\"], [1, \"results-header\"], [1, \"fas\", \"fa-thermometer-half\"], [\"class\", \"cache-status\", 4, \"ngIf\"], [1, \"weather-grid\"], [\"class\", \"weather-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"cache-status\"], [1, \"status-badge\", 3, \"ngClass\"], [1, \"timestamp\"], [\"class\", \"notice\", 4, \"ngIf\"], [1, \"notice\"], [1, \"fas\", \"fa-info-circle\"], [1, \"weather-card\"], [1, \"card-header\"], [1, \"date\"], [1, \"weather-icon\"], [1, \"card-content\"], [1, \"temperature\"], [1, \"high\"], [1, \"low\"], [1, \"description\"], [1, \"details\"], [1, \"detail-item\"], [1, \"fas\", \"fa-tint\"], [1, \"fas\", \"fa-compress-arrows-alt\"], [1, \"cached-cities\"], [1, \"fas\", \"fa-history\"], [1, \"cached-list\"], [\"class\", \"cached-city-btn\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"cached-city-btn\", 3, \"click\"], [1, \"fas\", \"fa-clock\"]],\n        template: function AppComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"header\", 1)(2, \"div\", 2)(3, \"h1\", 3);\n            i0.ɵɵelement(4, \"i\", 4);\n            i0.ɵɵtext(5, \" Weather Forecast \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"p\", 5);\n            i0.ɵɵtext(7, \"3-day weather forecast with smart city search\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(8, \"div\", 6)(9, \"label\", 7)(10, \"input\", 8);\n            i0.ɵɵpipe(11, \"async\");\n            i0.ɵɵlistener(\"change\", function AppComponent_Template_input_change_10_listener() {\n              return ctx.toggleOfflineMode();\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(12, \"span\", 9);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(13, \"span\", 10);\n            i0.ɵɵtext(14);\n            i0.ɵɵpipe(15, \"async\");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(16, \"section\", 11)(17, \"div\", 12)(18, \"div\", 13);\n            i0.ɵɵelement(19, \"i\", 14);\n            i0.ɵɵelementStart(20, \"input\", 15);\n            i0.ɵɵpipe(21, \"async\");\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function AppComponent_Template_input_ngModelChange_20_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.searchCity, $event) || (ctx.searchCity = $event);\n              return $event;\n            });\n            i0.ɵɵlistener(\"input\", function AppComponent_Template_input_input_20_listener() {\n              return ctx.onSearchInputChange();\n            })(\"focus\", function AppComponent_Template_input_focus_20_listener() {\n              return ctx.onInputFocus();\n            })(\"blur\", function AppComponent_Template_input_blur_20_listener() {\n              return ctx.onInputBlur();\n            })(\"keydown\", function AppComponent_Template_input_keydown_20_listener($event) {\n              return ctx.onKeyDown($event);\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(22, \"div\", 16);\n            i0.ɵɵtemplate(23, AppComponent_div_23_Template, 2, 0, \"div\", 17);\n            i0.ɵɵpipe(24, \"async\");\n            i0.ɵɵelementStart(25, \"button\", 18);\n            i0.ɵɵpipe(26, \"async\");\n            i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_25_listener() {\n              return ctx.searchWeather();\n            });\n            i0.ɵɵelement(27, \"i\", 19);\n            i0.ɵɵtext(28, \" Search \");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(29, AppComponent_div_29_Template, 2, 1, \"div\", 20)(30, AppComponent_div_30_Template, 3, 1, \"div\", 21);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(31, AppComponent_div_31_Template, 3, 1, \"div\", 22)(32, AppComponent_div_32_Template, 5, 0, \"div\", 23);\n            i0.ɵɵpipe(33, \"async\");\n            i0.ɵɵtemplate(34, AppComponent_section_34_Template, 8, 3, \"section\", 24);\n            i0.ɵɵpipe(35, \"async\");\n            i0.ɵɵtemplate(36, AppComponent_section_36_Template, 6, 1, \"section\", 25);\n            i0.ɵɵelementStart(37, \"footer\", 26)(38, \"div\", 27)(39, \"p\");\n            i0.ɵɵtext(40, \"\\u00A9 2025 Weather App - Powered by OpenWeatherMap\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(41, \"div\", 28)(42, \"span\", 29);\n            i0.ɵɵpipe(43, \"async\");\n            i0.ɵɵelement(44, \"i\", 30);\n            i0.ɵɵpipe(45, \"async\");\n            i0.ɵɵtext(46);\n            i0.ɵɵpipe(47, \"async\");\n            i0.ɵɵelementEnd()()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(10);\n            i0.ɵɵproperty(\"checked\", i0.ɵɵpipeBind1(11, 15, ctx.offlineMode$));\n            i0.ɵɵadvance(4);\n            i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(15, 17, ctx.offlineMode$) ? \"Offline Mode\" : \"Online Mode\", \" \");\n            i0.ɵɵadvance(6);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.searchCity);\n            i0.ɵɵproperty(\"disabled\", i0.ɵɵpipeBind1(21, 19, ctx.loading$) || false);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(24, 21, ctx.cityLoading$));\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"disabled\", i0.ɵɵpipeBind1(26, 23, ctx.loading$) || false || !ctx.searchCity);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngIf\", ctx.showSuggestions && ctx.citySuggestions.length > 0);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.cityError);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.error);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(33, 25, ctx.loading$));\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.forecasts.length > 0 && !i0.ɵɵpipeBind1(35, 27, ctx.loading$));\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.cachedCities.length > 0);\n            i0.ɵɵadvance(6);\n            i0.ɵɵproperty(\"ngClass\", i0.ɵɵpipeBind1(43, 29, ctx.offlineMode$) ? \"offline\" : \"online\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngClass\", i0.ɵɵpipeBind1(45, 31, ctx.offlineMode$) ? \"fa-wifi-slash\" : \"fa-wifi\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(47, 33, ctx.offlineMode$) ? \"Offline\" : \"Online\", \" \");\n          }\n        },\n        dependencies: [CommonModule, i3.NgClass, i3.NgForOf, i3.NgIf, i3.AsyncPipe, i3.DecimalPipe, i3.TitleCasePipe, i3.DatePipe, FormsModule, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel],\n        styles: [\".app-container[_ngcontent-%COMP%]{font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;font-size:16px;line-height:1.6;color:#343a40;min-height:100vh;display:flex;flex-direction:column;background:linear-gradient(135deg,#74b9ff,#0984e3)}.header[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-bottom:1px solid rgba(255,255,255,.2);padding:1.5rem 0}.header[_ngcontent-%COMP%]   .app-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#fff;margin-bottom:.25rem}.header[_ngcontent-%COMP%]   .app-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem;color:gold}.header[_ngcontent-%COMP%]   .app-subtitle[_ngcontent-%COMP%]{color:#fffc;margin-bottom:0;font-size:1rem}.status-indicator[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.5rem 1rem;border-radius:2rem;font-size:.875rem;font-weight:500}.status-indicator[_ngcontent-%COMP%]   .status-badge.online[_ngcontent-%COMP%]{background:#28a74533;color:#28a745;border:1px solid rgba(40,167,69,.3)}.status-indicator[_ngcontent-%COMP%]   .status-badge.offline[_ngcontent-%COMP%]{background:#ffc10733;color:#ffc107;border:1px solid rgba(255,193,7,.3)}.status-indicator[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.main-content[_ngcontent-%COMP%]{flex:1;padding:2rem 0}.search-section[_ngcontent-%COMP%]{margin-bottom:2rem}.search-section[_ngcontent-%COMP%]   .search-card[_ngcontent-%COMP%]{background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);border-radius:.375rem;box-shadow:0 .5rem 1rem #00000026}.search-form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{position:relative}.search-form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:2px solid transparent;background:#ffffffe6}.search-form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;box-shadow:0 0 0 .2rem #007bff40;background:#fff}.search-form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:0 .375rem .375rem 0}.autocomplete-container[_ngcontent-%COMP%]{position:relative;flex:1}.autocomplete-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;border-radius:.375rem 0 0 .375rem}.suggestions-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;background:#fff;border:1px solid #dee2e6;border-top:none;border-radius:0 0 .375rem .375rem;box-shadow:0 .5rem 1rem #00000026;max-height:300px;overflow-y:auto;z-index:1000}.suggestions-dropdown[_ngcontent-%COMP%]   .suggestions-header[_ngcontent-%COMP%], .suggestions-dropdown[_ngcontent-%COMP%]   .suggestions-footer[_ngcontent-%COMP%]{padding:.5rem 1rem;background:#f8f9fa;border-bottom:1px solid #dee2e6}.suggestions-dropdown[_ngcontent-%COMP%]   .suggestions-header[_ngcontent-%COMP%]:last-child, .suggestions-dropdown[_ngcontent-%COMP%]   .suggestions-footer[_ngcontent-%COMP%]:last-child{border-bottom:none}.suggestions-dropdown[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 1rem;cursor:pointer;transition:background-color .15s ease;border-bottom:1px solid #f8f9fa}.suggestions-dropdown[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.suggestions-dropdown[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]:hover, .suggestions-dropdown[_ngcontent-%COMP%]   .suggestion-item.selected[_ngcontent-%COMP%]{background:#e3f2fd}.suggestions-dropdown[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .city-info[_ngcontent-%COMP%]{flex:1}.suggestions-dropdown[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .city-info[_ngcontent-%COMP%]   .city-name[_ngcontent-%COMP%]{font-weight:500;color:#343a40;margin-bottom:.25rem}.suggestions-dropdown[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .city-info[_ngcontent-%COMP%]   .city-name[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem;color:#007bff}.suggestions-dropdown[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .city-info[_ngcontent-%COMP%]   .city-details[_ngcontent-%COMP%]{font-size:.875rem}.suggestions-dropdown[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .city-flag[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;color:#6c757d;background:#f8f9fa;padding:.25rem .5rem;border-radius:.25rem}.offline-toggle[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{font-size:.875rem;color:#6c757d;cursor:pointer}.offline-toggle[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:#ffc107;border-color:#ffc107}.cached-cities[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.75rem;padding:.25rem .5rem}.weather-results[_ngcontent-%COMP%]   .weather-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.weather-results[_ngcontent-%COMP%]   .weather-header[_ngcontent-%COMP%]   .city-name[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;color:#fff;margin-bottom:.5rem}.weather-results[_ngcontent-%COMP%]   .weather-header[_ngcontent-%COMP%]   .city-name[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem;color:gold}.weather-results[_ngcontent-%COMP%]   .weather-header[_ngcontent-%COMP%]   .weather-meta[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.875rem;padding:.5rem 1rem}.weather-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:none;border-radius:.375rem;box-shadow:0 .125rem .25rem #00000013;transition:transform .2s ease,box-shadow .2s ease;background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.weather-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 .5rem 1rem #00000026}.weather-card.today[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:2px solid #007bff;box-shadow:0 0 20px #007bff4d}.weather-card[_ngcontent-%COMP%]   .weather-date[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;margin-bottom:1rem;color:#343a40}.weather-card[_ngcontent-%COMP%]   .weather-date[_ngcontent-%COMP%]   .day-label[_ngcontent-%COMP%]{font-size:.75rem;background:#007bff;color:#fff;padding:.25rem .5rem;border-radius:1rem;margin-left:.5rem}.weather-card[_ngcontent-%COMP%]   .temperature-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.weather-card[_ngcontent-%COMP%]   .temperature-section[_ngcontent-%COMP%]   .temperature-main[_ngcontent-%COMP%]   .temp-high[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#343a40}.weather-card[_ngcontent-%COMP%]   .temperature-section[_ngcontent-%COMP%]   .temperature-main[_ngcontent-%COMP%]   .temp-divider[_ngcontent-%COMP%]{margin:0 .5rem;color:#6c757d}.weather-card[_ngcontent-%COMP%]   .temperature-section[_ngcontent-%COMP%]   .temperature-main[_ngcontent-%COMP%]   .temp-low[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;color:#6c757d}.weather-card[_ngcontent-%COMP%]   .temperature-section[_ngcontent-%COMP%]   .weather-icon[_ngcontent-%COMP%]   .weather-emoji[_ngcontent-%COMP%]{font-size:3rem;filter:drop-shadow(0 2px 4px rgba(0,0,0,.1))}.weather-card[_ngcontent-%COMP%]   .weather-description[_ngcontent-%COMP%]{font-size:1rem;color:#6c757d;margin-bottom:1rem;text-align:center}.weather-card[_ngcontent-%COMP%]   .weather-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:1rem}.weather-card[_ngcontent-%COMP%]   .weather-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:.875rem}.weather-card[_ngcontent-%COMP%]   .weather-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-bottom:.25rem;color:#007bff}.weather-card[_ngcontent-%COMP%]   .weather-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#6c757d;font-weight:500}.weather-card[_ngcontent-%COMP%]   .special-condition[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{margin-bottom:0;padding:.5rem;font-size:.875rem;border-radius:.25rem}.weather-card[_ngcontent-%COMP%]   .special-condition[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{margin:0}.error-section[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{border-radius:.375rem;box-shadow:0 .125rem .25rem #00000013}.loading-section[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{padding:3rem 0}.loading-section[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem}.loading-section[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:1.1rem;margin:0}.footer[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-top:1px solid rgba(255,255,255,.2);padding:1rem 0;margin-top:auto}.footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fffc;margin:0}.footer[_ngcontent-%COMP%]   p.text-muted[_ngcontent-%COMP%]{color:#fff9!important}@media (max-width: 768px){.header[_ngcontent-%COMP%]{text-align:center}.header[_ngcontent-%COMP%]   .app-title[_ngcontent-%COMP%]{font-size:1.5rem}.header[_ngcontent-%COMP%]   .app-subtitle[_ngcontent-%COMP%]{font-size:.875rem}.header[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{margin-top:1rem}.main-content[_ngcontent-%COMP%]{padding:1rem 0}.weather-card[_ngcontent-%COMP%]   .temperature-section[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.weather-card[_ngcontent-%COMP%]   .temperature-section[_ngcontent-%COMP%]   .weather-icon[_ngcontent-%COMP%]{margin-top:.5rem}.weather-details[_ngcontent-%COMP%]{flex-wrap:wrap;gap:1rem;justify-content:center}.suggestions-dropdown[_ngcontent-%COMP%]{max-height:250px}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.weather-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease}.suggestions-dropdown[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .2s ease}\"]\n      });\n    }\n  }\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}